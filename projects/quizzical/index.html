<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quizzical</title>

  <!-- Preload web fonts -->
  <link rel="preload" href="/assets/fonts/Fraunces.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/Fraunces-Italic.woff2" as="font" type="font/woff2" crossorigin>

  <link rel="stylesheet" href="/css/main.css">
</head>
<body class="bg-light text-dark">
  <div style="width: 0; height: 0; position: absolute; overflow: hidden;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol fill="none" viewBox="0 0 18 13" id="svg-check" xmlns="http://www.w3.org/2000/svg"><path d="M17 1 6 12 1 7" stroke="#DDA15E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol><symbol viewBox="0 0 15 9" id="svg-chevron-down"><path d="m1.835 1.77 6 6 6-6"/></symbol><symbol viewBox="0 0 9 15" id="svg-chevron-right"><path d="m1.18 13.825 6-6-6-6"/></symbol><symbol viewBox="0 0 22 22" id="svg-logo-linkedin"><path d="M19.82.5H2.294C1.337.5.5 1.19.5 2.135v17.566c0 .951.837 1.799 1.794 1.799h17.521c.963 0 1.685-.854 1.685-1.8V2.136C21.506 1.19 20.778.5 19.82.5ZM7.01 18.005H4V8.65H7.01v9.354ZM5.61 7.228h-.022c-.963 0-1.586-.716-1.586-1.613C4.002 4.7 4.642 4 5.626 4c.984 0 1.587.695 1.608 1.614 0 .897-.624 1.613-1.625 1.613Zm12.395 10.777h-3.009V12.89c0-1.225-.438-2.063-1.526-2.063-.832 0-1.324.563-1.543 1.111-.082.197-.104.465-.104.739v5.328H8.815V8.65h3.008v1.301c.438-.623 1.122-1.52 2.713-1.52 1.975 0 3.469 1.301 3.469 4.108v5.465Z"/></symbol><symbol viewBox="0 0 23 19" id="svg-mail"><path d="M3.279 1.046h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-16c-1.1 0-2-.9-2-2v-12c0-1.1.9-2 2-2Z"/><path d="m21.279 3.046-10 7-10-7"/></symbol></svg></div>
  <header class="[ site-header ] [ wrapper ]">
  <svg width="41" height="48" viewBox="0 0 41 48" fill="none">
  <path d="M40.644 24.364C40.644 31.6749 38.9061 44.3234 24.9791 44.7071C26.1198 43.5657 27.0385 42.2807 27.7747 40.928C30.2832 36.3188 30.73 30.8183 30.73 27.012V0H40.644V24.364Z" fill="#393939"/>
  <path d="M28.73 0.00399017H13.434C13.434 0.00399017 17.978 4.54799 17.978 11.716V27.012C17.978 43.268 12.41 47.364 12.41 47.364C26.938 47.364 28.73 34.436 28.73 27.012V0.00399017Z" fill="#393939"/>
  <path d="M11.84 38.532C11.84 35.268 9.216 32.58 5.888 32.58C2.624 32.58 0 35.268 0 38.532C0 41.86 2.624 44.484 5.888 44.484C9.216 44.484 11.84 41.86 11.84 38.532Z" fill="#393939"/>
</svg>

    <a href="/">Back to project list</a>
  
</header>


  <main>
    
  <article class="[ project ] [ region flow ]">
    <header class="[ project-header ] [ wrapper switcher ]">
      <div class="[ text ] [ flow ]">
        <h1 class="title">Quizzical</h1>
        <p class="description">A simple trivia quiz app built with React that fetches random questions from the Open Trivia Database API.</p>
        <div class="[ buttons ] [ cluster ]">
          <a href="https://quizzical12.netlify.app/" class="button">
            See the live demo
            <svg aria-hidden="true" class="icon icon-stroke"><use href="#svg-chevron-right"></use></svg>
          </a>
          <a href="https://github.com/joshjavier/quizzical-app" class="button">
            Inspect the code
            <svg aria-hidden="true" class="icon icon-stroke"><use href="#svg-chevron-right"></use></svg>
          </a>
        </div>
      </div>
      <div class="image"><img src="/assets/quizzical-cover.jpg" alt=""></div>
    </header>

    <section class="[ keypoints ] [ switcher wrapper ]">
      <div>
        <h2>Highlights</h2>
        <ul data-type="check">
            <li>Get a random set of 5 questions with shuffled choices</li>
            <li>Keyboard-friendly</li>
            <li>Performant and accessible</li>
        </ul>
      </div>

      <div>
        <h2>Built with</h2>
        <ul>
            <li>React Hooks (useState and useEffect)</li>
            <li>HTML and CSS Flexbox</li>
            <li>ES6 Fetch and Async/Await</li>
            <li>Mobile-First Workflow</li>
            <li>REST API</li>
        </ul>
      </div>
    </section>

    <section class="[ content ] [ prose wrapper ]">
      <h2>Why I built<span class="widont">&nbsp;</span>this</h2>
<p>This unguided project is part of the <a href="https://scrimba.com/learn/frontend">Scrimba Frontend Developer Career Path</a>, which I finished in November<span class="widont">&nbsp;</span>2022.</p>
<p>The goal is to build a simple trivia quiz app using React, satisfying the following<span class="widont">&nbsp;</span>requirements:</p>
<ul>
<li>Two screens (start <span class="amp">&amp;</span><span class="widont">&nbsp;</span>questions)</li>
<li>Pull 5 questions from the <span class="caps">OTDB</span><span class="widont">&nbsp;</span><span class="caps">API</span></li>
<li>Tally correct answers after &quot;Check answers&quot; is<span class="widont">&nbsp;</span>clicked</li>
<li>Styled <span class="amp">&amp;</span> polished</li>
</ul>
<h2>Challenges and learnings</h2>
<h3>Semantics and accessibility</h3>
<p>Initially, I structured the answers as an unordered list and added an event listener that toggles the &quot;selected&quot; status for each list item on click. However, this presents a bug where users can select multiple answers for one<span class="widont">&nbsp;</span>question.</p>
<p>So, I turned the answers into <strong>radio buttons</strong>, which not only prevents the user from selecting multiple answers, but also improves accessibility for keyboard users. Following the design spec, I removed the radio buttons visually (I found <a href="https://stackoverflow.com/a/22462740">a way to hide radio buttons without affecting accessibility</a>) and instead applied styling to the label itself whenever an answer is<span class="widont">&nbsp;</span>selected.</p>
<h3>When to fetch new<span class="widont">&nbsp;</span>data</h3>
<p>This was tricky at first - I&#8217;m using <code>useEffect</code> to fetch the questions data from the <span class="caps">OTDB</span> <span class="caps">API</span>. I knew I had to put something in the dependency array to conditionally trigger the fetch operation, but what variable should I<span class="widont">&nbsp;</span>use?</p>
<p>Since I only want to fetch a new set of questions when the user finishes a game and clicks on the &quot;Play again&quot; button, I decided to add a <code>round</code> state in my dependency array. Initially, <code>round</code> will have a value of <code>1</code>, and when the user finishes a quiz and starts a new one, <code>round</code> will increase by 1, thus trigerring the fetch operation in the <code>useEffect</code> block.</p>
<p>The fetch operation happens as the Start page is loaded, so by the time the user clicks on the &quot;Start quiz&quot; button, the fetch request is already finished and the data is ready to be rendered on the Questions<span class="widont">&nbsp;</span>page.</p>
<h3>Processing fetched data</h3>
<p>The <span class="caps">API</span> request returns an object, which contains an array of objects with the following<span class="widont">&nbsp;</span>structure:</p>
<!-- prettier-ignore -->
<pre><code class="language-js">[
  {
    category: 'General Knowledge',
    type: 'multiple',
    difficulty: 'easy',
    question: 'Which American president appears on a one dollar bill?',
    correct_answer: 'George Washington',
    incorrect_answers: [
      'Thomas Jefferson',
      'Abraham Lincoln',
      'Benjamin Franklin',
    ],
  },

  // ...
]
</code></pre>
<p>In the early stages, I was fetching the data as-is, only applying transformations in the component-level. This includes combining <code>correct_answer</code> and <code>incorrect_answers</code> into a single array, and then shuffling the answers so the correct answer is not always the first one. However, the problem with this approach is that every time the app gets re-rendered, the answers get shuffled as<span class="widont">&nbsp;</span>well!</p>
<p>This is when I learned that when fetching data, it&#8217;s better to create a new object that <strong>stores only what you need</strong>, and <strong>applies data transformations upfront</strong>. I created a callback function to handle data<span class="widont">&nbsp;</span>processing:</p>
<pre><code class="language-js">function processData(item) {
  // Decode html entities in the questions and answers
  const question = decode(item.question)
  const correctAnswer = decode(item.correct_answer)
  const incorrectAnswers = item.incorrect_answers.map((answer) =&gt;
    decode(answer)
  )

  // Combine and shuffle answers into a single array
  const answers = [correctAnswer, ...incorrectAnswers]
  shuffle(answers)

  return {
    question: question,
    answers: answers,
    correctAnswer: correctAnswer,
    // Set a unique identifier for each question
    id: nanoid(),
    // Add a property where we'll store the user's answer
    userAnswer: '',
  }
}
</code></pre>
<p>&#8230;which is called whenever I fetch new<span class="widont">&nbsp;</span>data:</p>
<pre><code class="language-js">const response = await fetch(url)
const data = await response.json()
const questions = await data.results.map(processData)
</code></pre>
<p>The questions are stored in the state, ready to be passed as props to child<span class="widont">&nbsp;</span>components.</p>
<h3>Scoring</h3>
<p>Once I settled on the data structure above, it was easy to add a <code>userAnswer</code> property. This has two<span class="widont">&nbsp;</span>benefits:</p>
<ol>
<li>
<p>Scoring is as simple as checking if <code>userAnswer === correctAnswer</code> for each question. Since <code>userAnswer</code> has an empty string for its initial value, even if the user skips a question, the logic would simply count it as a wrong<span class="widont">&nbsp;</span>answer.</p>
</li>
<li>
<p>Having a <code>userAnswer</code> property in the state allows the answers to be implemented as <strong>controlled components</strong>, so there&#8217;s a single source of<span class="widont">&nbsp;</span>truth.</p>
</li>
</ol>

    </section>
  </article>

  <div data-bg="dark" class="bg-tertiary text-white">
    



<section id="contact" class="[ cta ] [ region ]">
  <div class="wrapper flow">
    <h2>Want to team up?</h2>
    <p><strong>I&#8217;m currently looking for a full-time front-end developer role in a junior level position!</strong> I&#8217;m also open to other opportunities as well, so feel free to get in touch via LinkedIn or<span class="widont">&nbsp;</span>email.</p>
    <div class="[ buttons ] [ cluster ]">
      <a href="https://www.linkedin.com/in/joshjavier/" class="button button-linkedin" data-bg="dark">
        Chat with me on LinkedIn
        <svg aria-hidden="true" class="icon undefined"><use href="#svg-logo-linkedin"></use></svg>
      </a>
      <a href="mailto:&#x6a;&#x6f;&#x73;&#x68;&#x6a;&#x61;&#x76;&#x69;&#x65;&#x72;&#x31;&#x32;&commat;&#x67;&#x6d;&#x61;&#x69;&#x6c;&period;&#x63;&#x6f;&#x6d;" class="button">
        Send me an email
        <svg aria-hidden="true" class="icon icon-stroke"><use href="#svg-mail"></use></svg>
      </a>
    </div>
  </div>
</section>

  </div>

  </main>

  <footer class="site-footer">
  <div class="wrapper">
    <p>☕ Hand-coded by Josh Javier. Built with 11ty.</p>
  </div>
</footer>

</body>
</html>
